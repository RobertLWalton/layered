// Layered Languages Prefix Parser Test Data
//
// File:	ll_parser_prefix_test.in
// Author:	Bob Walton (walton@acm.org)
// Date:	Sat Apr 20 13:24:35 EDT 2019
//
// The authors have placed this data in the public
// domain; they make no warranty and accept no liability
// for this data.

*PARSER*:
    trace [+ parser output]
    define selector text
    define typed bracket "{" ... "|" ... "|" ... "}"
        [code, text]
        // no element selectors
        with attribute selectors [data]
        with attributes ":" ... "=" ... ","
        with attribute negator "no"
        with attribute flags initiator "["
        with attribute multivalue initiator "{*"
        with prefix separators allowed

*PARSER*:
    begin block X
    define prefix "p" [TOP LEVEL]
        with parsing options [end at paragraph break, sticky]
	with group paragraph
	with parsing selectors [+ text, - code]
	with implied subprefix {s}
    define prefix "s" [text]
        with sentence reformatter
	    ( ".", ";", ":", "?", "!" )
    define prefix "code" [text]
	with group paragraph
	with parsing options [+ reset]
    print prefix ""

{p}This is a sentence: an add-on.  A phrase;
and a question?

{code}And a line of code.

*PARSER*:
    end block X

