*PARSER*:
    trace [+ parser output]
    define selector text
    define typed bracket "{" ... "|" ... "|" ... "}"
        [code, text]
        // no element selectors
        with attribute selectors [data]
        with attributes ":" ... "=" ... ","
        with attribute negator "no"
        with attribute flags initiator "["
        with attribute multivalue initiator "{*"
        with prefix separators allowed
*PARSER*:
    begin block X
    define prefix "p" [TOP LEVEL]
        with parsing options [end at paragraph break]
        with group paragraph
        with parsing selectors [+ text, - code]
        with implied subprefix {s}
    define prefix "s" [text]
        with sentence reformatter
             ( (".", ";", ":", "?", "!" ) )
    print prefix "s"
        block X: prefix "s" [text]
                 with parsing selectors [- TOP LEVEL]
                 with sentence reformatter ( {|"." ";" ":" "?" "!"|} )
SENTENCE REFORMATTER
SENTENCE ARGUMENT {|"." ";" ":" "?" "!"|}
BRACKETED EXPRESSION:
    {p|{s|This is a sentence ":" an add-on "." A phrase ";" and a
          question "?"|s}|p}
*PARSER*:
    end block X
