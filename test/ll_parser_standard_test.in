// Layered Languages Standard Parser Test Data
//
// File:	ll_parser_standard_test.in
// Author:	Bob Walton (walton@acm.org)
// Date:	Sat Oct  2 15:47:02 EDT 2021
//
// The authors have placed this data in the public
// domain; they make no warranty and accept no liability
// for this data.

*PARSER*:
    trace [+ parser output]

@10 := x + y
!@11 := x + y
ID 10 is @10
ID 11 is @11

@20 := x + y:
	z = x * y
	w = u - v

@21 := x * y
@22 := u - v
@23 := x + y:
	z = @21
	w = @22

ID 21 is @21
ID 22 is @22
ID 23 is @23

*PARSER*:
    begin block BLOCK1
    define indentation mark "::" ... ";" [code]
        with implied header {p}

@30 := this is an indented paragraph::
	   with a line
	   and a second line
       ::   // Needed to allow indented paragraph to
            // be an element of @30.

ID 30 is @30

*PARSER*:
    end block BLOCK1

@35 := foo
@36 := "fum"
ID 35 is @35
ID 36 is @36


This is a line with an indented paragraph: // A comment
    First line of indented paragraph.
    Second line of indented paragraph.

@40 := This is a code line ending in:
	   An indented paragragraph; line one.
	   Line two.
       :    // Needed to allow indented paragraph to
            // be an element of @40.

ID 40 is @40


@50 := {x: a = "quoted string", b = 53.91, c = yyy 53.91,
           d = "ppp", e = "ppp" "qqq", 98.21 = hi, "," = ":",
	   f = ;, . = 99, g = [< m n >] p, h = [< [< m n >] p >]
	   | "quoted string" 53.91 99 ; foo |x}

ID 50 is @50

@60 :=:
       a = @62 = b
@61 := @60
@62 :=:
       c = @60 = d
ID 60 is @60
ID 61 is @61

@70 :=:
    a = b 55.44
    c = @71 = d 77.33
    e 22.99 = 5
ID 70 is @70

@80 := A B C D E:
    2 = X
    "4" = Y
    6 = Z
    7.1 = Q
    8.4.5 = P
    F = 1 2 3
    G = M N P
ID 80 is @80

@<X> :=:
    next = @<Y> = previous
    name = X
@<Y> :=:
    next = @<X> = previous
    name = Y
ID X is @<X>
ID Y is @<Y>
@<X> := hi there @<Z>
@@@@
@<X> := hi there @<Y>
@<Y> := (m + n)
ID X is @<X>
ID Y is @<Y>
ID Z is @<Z>
